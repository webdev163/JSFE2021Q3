!function(){"use strict";var e,t={448:function(e,t,n){var r=n(791),s=n(951),a=n(976),i=n(135),c=n.n(i),o=function(){function e(){(0,s.Z)(this,e)}return(0,a.Z)(e,null,[{key:"render",value:function(e){return new Promise((function(t){var n=document.getElementById("app");document.body.classList.remove("loaded"),setTimeout((function(){n.innerHTML=e+'\n  <div class="fullscreen-icon-wrapper">\n    <img width="25" height="25" class="fullscreen-icon" src="img/fullscreen.svg" alt="" onclick="!document.fullscreenElement ? body.requestFullscreen() : document.exitFullscreen()">\n  </div>\n  <footer class="footer">\n    <div class="footer-container">\n      <div class="footer-info-wrapper">\n        <a class="footer-github-link" href="https://github.com/webdev163" target="_blank">\n          <img src="img/github-logo.svg" width="30" height="30" alt="Github logo">\n        </a>\n        <a class="footer-rsschool" href="https://rs.school/js/" target="_blank">\n          <img class="footer-rsschool-img" src="img/rs_school_js.svg" width="75" height="25" alt="RS School logo">\n        </a>\n        <div class="footer-copyright">&copy; 2021</div>\n      </div>\n    </div>\n  </footer>\n',t()}),200)})).then((function(){setTimeout((function(){document.body.classList.add("loaded_hiding"),window.setTimeout((function(){document.body.classList.add("loaded"),document.body.classList.remove("loaded_hiding")}),200)}),200)}))}}]),e}(),u=function(){function e(){(0,s.Z)(this,e)}var t;return(0,a.Z)(e,null,[{key:"setEventListeners",value:function(){document.querySelector(".artist-quiz-wrapper").addEventListener("click",(function(){document.dispatchEvent(new Event("render-artist-categories"))})),document.querySelector(".pictures-quiz-wrapper").addEventListener("click",(function(){document.dispatchEvent(new Event("render-pictures-categories"))})),document.querySelector(".settings-button").addEventListener("click",(function(){document.dispatchEvent(new Event("render-settings"))}))}},{key:"render",value:(t=(0,r.Z)(c().mark((function e(){var t=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,o.render('\n      <div class="outer-container">\n        <div class="container">\n        <div class="logo-wrapper">\n          <img src="img/logo.png" alt="">\n        </div>\n        <div class="main-menu-wrapper">\n          <div class="artist-quiz-wrapper">\n            <div class="artist-quiz-img-wrapper"></div>\n            <h2 class="artist-quiz-main-title quiz-title"><span class="text-bold">Artists</span> quiz</h2>\n          </div>\n          <div class="pictures-quiz-wrapper">\n            <div class="pictures-quiz-img-wrapper"></div>\n            <h2 class="pictures-quiz-main-title quiz-title"><span class="text-bold">Pictures</span> quiz</h2>\n          </div>\n        </div>\n        <div class="main-btn-wrapper">\n          <button class="btn settings-button">Settings</button>\n        </div>\n      </div>\n    ').then((function(){t.setEventListeners()}));case 3:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}(),l={isCheckedVolume:0,isCheckedTime:0,valueVolume:100,valueTime:30},d=function(){function e(){(0,s.Z)(this,e)}var t;return(0,a.Z)(e,null,[{key:"updateVolumeBar",value:function(){var e=document.querySelector(".progress-volume"),t=document.querySelector(".volume-controls-current-value"),n=100*e.value;e.style.background="linear-gradient(to right, #660033 0%, #660033 ".concat(n,"%, #E5E5E5 ").concat(n,"%, #E5E5E5 100%)"),t.textContent=Math.floor(n),l.valueVolume=Math.floor(n)}},{key:"updateTimeBar",value:function(){var e=document.querySelector(".progress-time"),t=document.querySelector(".time-controls-current-value"),n=e.value/5-1;e.style.background="linear-gradient(to right, #660033 0%, #660033 ".concat(20*n,"%, #E5E5E5 ").concat(20*n,"%, #E5E5E5 100%)"),t.textContent=e.value,l.valueTime=parseInt(e.value,10)}},{key:"render",value:(t=(0,r.Z)(c().mark((function e(){var t,n=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getLocalStorage();case 2:return t='\n      <div class="outer-container">\n        <div class="container">\n          <div class="logo-wrapper">\n            <img src="img/logo.png" alt="">\n          </div>\n          <h2 class="settings-title">Settings</h2>\n          <div class="settings-wrapper">\n            <div class="volume-settings-wrapper">\n              <div class="volume-icon-wrapper">\n                <img class="volume-icon" src="img/volume.svg" alt="Volume icon">\n              </div>\n              <div class="volume-controls-outer-wrapper">\n                <div class="volume-controls-inner-wrapper">\n                  <div class="volume-controls">\n                    <input type="range" name="volume" value="'.concat(l.valueVolume/100,'" min="0" max="1" step=".01" class="progress progress-volume">\n                    <span class="volume-controls-current-value">').concat(l.valueVolume,'</span>\n                  </div>\n                  <div class="volume-descr">(percents)</div>\n                </div>\n              </div>\n              <div class="volume-checkbox-wrapper">\n                <label class="label-checkbox" for="checkbox-volume"></label>\n                <input class="slide-checkbox slide-checkbox-volume" type="checkbox" name="checkbox-volume" id="checkbox-volume" ').concat(1===l.isCheckedVolume?"checked":"",'>\n                <label class="custom-checkbox" for="checkbox-volume"></label>\n              </div>\n              <h3 class="volume-title">Volume</h3>\n            </div>\n            <div class="time-settings-wrapper">\n              <div class="time-icon-wrapper">\n                <img class="time-icon" src="img/clock.svg" alt="Time icon">\n              </div>\n              <div class="time-controls-outer-wrapper">\n                <div class="time-controls-inner-wrapper">\n                  <div class="time-controls">\n                    <input type="range" name="time" value="').concat(l.valueTime,'" min="5" max="30" step="5" class="progress progress-time">\n                    <span class="time-controls-current-value">').concat(l.valueTime,'</span>\n                  </div>\n                  <div class="time-descr">(seconds per answer)</div>\n                </div>\n              </div>\n              <div class="time-checkbox-wrapper">\n                <label class="label-checkbox" for="checkbox-time"></label>\n                <input class="slide-checkbox slide-checkbox-time" type="checkbox" name="checkbox-time" id="checkbox-time" ').concat(1===l.isCheckedTime?"checked":"",'>\n                <label class="custom-checkbox" for="checkbox-time"></label>\n              </div>\n              <h3 class="volume-title">Time game</h3>\n            </div>\n          </div>\n          <div class="settings-btn-wrapper">\n            <button class="btn save-button">Save</button>\n          </div>\n        </div>\n      </div>\n    '),e.next=5,o.render(t).then((function(){n.setEventListeners(),n.updateVolumeBar(),n.updateTimeBar(),n.updateVolumeInterface(),n.updateTimeInterface()}));case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"setEventListeners",value:function(){var e=this,t=document.querySelector(".progress-volume"),n=document.querySelector(".progress-time");t.addEventListener("change",this.updateVolumeBar),t.addEventListener("mousemove",this.updateVolumeBar),n.addEventListener("change",this.updateTimeBar),n.addEventListener("mousemove",this.updateTimeBar),document.querySelector(".slide-checkbox-volume").addEventListener("change",this.updateVolumeInterface),document.querySelector(".slide-checkbox-time").addEventListener("change",this.updateTimeInterface),document.querySelector(".save-button").addEventListener("click",(function(){e.updateLocalStorage(),document.dispatchEvent(new Event("render-main"))}))}},{key:"updateVolumeInterface",value:function(){var e=document.querySelector(".slide-checkbox-volume").checked,t=document.querySelector(".volume-controls-inner-wrapper");e?(t.classList.add("controls-enabled"),l.isCheckedVolume=1):(t.classList.remove("controls-enabled"),l.isCheckedVolume=0)}},{key:"updateTimeInterface",value:function(){var e=document.querySelector(".slide-checkbox-time").checked,t=document.querySelector(".time-controls-inner-wrapper");e?(t.classList.add("controls-enabled"),l.isCheckedTime=1):(t.classList.remove("controls-enabled"),l.isCheckedTime=0)}},{key:"updateLocalStorage",value:function(){localStorage.setItem("webdev163-quiz-settings",JSON.stringify(l))}},{key:"getLocalStorage",value:function(){return new Promise((function(e){if(localStorage.getItem("webdev163-quiz-settings")){var t=JSON.parse(localStorage.getItem("webdev163-quiz-settings"));Object.assign(l,t)}e()}))}}]),e}(),v=n(132),p=n(82),m=n(597),h=function(){function e(){(0,s.Z)(this,e)}var t,n,i;return(0,a.Z)(e,null,[{key:"getJson",value:(i=(0,r.Z)(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,fetch("https://raw.githubusercontent.com/webdev163/image-data/master/data.json");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"getImage",value:(n=(0,r.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=new Image;n.src="https://raw.githubusercontent.com/webdev163/image-data/master/img/".concat(t,".jpg"),n.addEventListener("load",(function(){e('url("'.concat(n.src,'")'))}))})));case 1:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"getLocalImage",value:(t=(0,r.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=new Image;n.src="img/categories/category-".concat(t,".jpg"),n.addEventListener("load",(function(){e('url("'.concat(n.src,'")'))}))})));case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),e}(),f=function(){function e(){(0,s.Z)(this,e),this.localStorageArr=null}var t;return(0,a.Z)(e,null,[{key:"animateCards",value:function(){var e,t,n=function(){e=document.querySelectorAll(".hidden"),t=window.innerHeight},r=function(){for(var n=0;n<e.length;n+=1){var r=e[n];(document.fullscreenElement?e[n].getBoundingClientRect().top+-500:e[n].getBoundingClientRect().top)-t<=-100&&(r.classList.add("animated"),r.classList.remove("hidden"))}};window.addEventListener("scroll",r),window.addEventListener("resize",n),n(),r()}},{key:"checkLocalStorage",value:function(e){var t=this,n="artist"===e?0:11;return new Promise((function(e){if(null!==localStorage.getItem("webdev163-quiz-results")){t.localStorageArr=JSON.parse(localStorage.getItem("webdev163-quiz-results"));for(var r=[],s=0;s<12;s+=1)null!==t.localStorageArr[s+n]&&r.push(s+n);e(r)}else e()}))}},{key:"generateCategories",value:(t=(0,r.Z)(c().mark((function e(t){var n,s=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",e.next=3,this.checkLocalStorage(t).then((0,r.Z)(c().mark((function e(){var r,a,i,o,u,l,d,v=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=v.length>0&&void 0!==v[0]?v[0]:[],a=["Portrait","Landscape","Still life","Impressionism","Expressionism","Avant-garde","Renaissance","Surrealism","Kitsch","Minimalism","Surrealism","Industrial"],i="artist"===t?0:12,o=12,e.next=6,Promise.all(new Array(o).fill(null).map((function(e,t){return h.getLocalImage(t+i)})));case 6:for(u=e.sent,l=0;l<o;l+=1)d=r.includes(l+i),n+='\n        <div class="categories-item hidden fade-in-'.concat(l," ").concat(d?"category-done":"",'" id="category-').concat(l+i,'">\n          <div class="category-info-wrapper">\n            <div class="category-done-number">').concat(d?"".concat(s.localStorageArr[l+i].filter((function(e){return 1===e})).length,"/10"):"",'</div>\n            <div class="category-number">').concat(l+1,'</div>\n            <div class="category-type">').concat(a[l],'</div>\n          </div>\n          <div class="category-image" style=\'background-image: ').concat(u[l],';\'></div>\n          <div class="category-score">Score</div>\n        </div>\n      ');case 8:case"end":return e.stop()}}),e)}))));case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"handleClick",value:function(e){if(e.target.closest(".categories-item")&&!e.target.classList.contains("category-score")){var t=e.target.closest(".categories-item").id.slice(9),n=new CustomEvent("render-quiz",{detail:t});document.dispatchEvent(n)}if(e.target.classList.contains("category-score")){var r=e.target.closest(".categories-item").id.slice(9),s=new CustomEvent("render-category-results",{detail:r});document.dispatchEvent(s)}}},{key:"setEventListeners",value:function(){var e=this;document.querySelector(".categories-wrapper").addEventListener("click",(function(t){e.handleClick(t)})),document.querySelector(".categories-home-button").addEventListener("click",(function(){document.dispatchEvent(new Event("render-main"))}))}}]),e}();function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,m.Z)(e);if(t){var s=(0,m.Z)(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return(0,p.Z)(this,n)}}var b=function(e){(0,v.Z)(i,e);var t,n=g(i);function i(){return(0,s.Z)(this,i),n.apply(this,arguments)}return(0,a.Z)(i,null,[{key:"render",value:(t=(0,r.Z)(c().mark((function e(){var t,n=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0='\n      <div class="outer-container">\n        <div class="container">\n          <div class="logo-wrapper">\n            <img src="img/logo.png" alt="">\n          </div>\n          <h2 class="categories-title">Categories</h2>\n          <div class="categories-wrapper">\n            <button class="btn categories-home-button"></button>\n            ',e.next=3,this.generateCategories("pictures");case 3:return e.t1=e.sent,t=e.t0.concat.call(e.t0,e.t1,"\n          </div>\n        </div>\n      </div>\n    "),e.next=7,o.render(t).then((function(){n.animateCards(),n.setEventListeners()}));case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),i}(f),y=function(){function e(t){(0,s.Z)(this,e),this.quizNumber=t,this.roundsInGame=10,this.quizType=t<12?"artist":"picture",this.artistNumber=t*this.roundsInGame,this.answersCounter=0,this.answersArr=new Array(this.roundsInGame).fill(null)}var t,n;return(0,a.Z)(e,[{key:"openPopup",value:function(){var e=document.querySelector(".popup"),t=document.querySelector("#overlay");this.answersCounter<this.roundsInGame&&(document.querySelector(".popup-sign").style.backgroundImage='url("img/'.concat(this.isCorrect?"right":"wrong",'.png")'));e.classList.add("active"),setTimeout((function(){t.classList.add("active")}),200)}},{key:"generatePagination",value:function(){for(var e="",t=0;t<this.roundsInGame;t+=1){e+=1===this.answersArr[t]?'<div class="pagination-item pagination-correct" id="dot-'.concat(t,'"></div>'):0===this.answersArr[t]?'<div class="pagination-item pagination-wrong" id="dot-'.concat(t,'"></div>'):'<div class="pagination-item" id="dot-'.concat(t,'"></div>')}return e}},{key:"generateResults",value:(n=(0,r.Z)(c().mark((function e(){var t,n,r,s,a,i,u=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.answersArr.filter((function(e){return 1===e})).length,n=this.answersArr.length,e.t0=t,e.next=0===e.t0||1===e.t0?5:2===e.t0||3===e.t0||4===e.t0?7:5===e.t0||6===e.t0||7===e.t0?9:8===e.t0||9===e.t0?11:13;break;case 5:return r="You can do better, try again!",e.abrupt("break",15);case 7:return r="Not bad, try again to improve!",e.abrupt("break",15);case 9:return r="Congratulations, nice shot!",e.abrupt("break",15);case 11:return r="Very well, it looks like you are an art lover!",e.abrupt("break",15);case 13:return r="You are an art professional, congratulations!",e.abrupt("break",15);case 15:return s='\n      <div class="container container-results">\n        <div class="popup">\n          <h2 class="text-results congratulation">'.concat(r,'</h2>\n          <p class="text-results score-results">').concat(t," / ").concat(n,'</p>\n          <div class="congratulation-picture-wrapper">\n            <img class="congratulation-picture" src="img/goodjob.svg" alt="Good job!">\n          </div>\n          <div class="popup-btn-wrapper">\n            <button class="btn button-popup-home">Home</button>\n            <button class="btn button-popup-next-quiz">Next quiz</button>\n          </div>\n        </div>\n        <audio class="audio-end" src="audio/round-end.mp3"></audio>\n      </div>\n      <div id="overlay"></div>\n    '),null!==localStorage.getItem("webdev163-quiz-results")?((a=JSON.parse(localStorage.getItem("webdev163-quiz-results")))[this.quizNumber]=this.answersArr,localStorage.setItem("webdev163-quiz-results",JSON.stringify(a))):((i=new Array(24).fill(null))[this.quizNumber]=this.answersArr,localStorage.setItem("webdev163-quiz-results",JSON.stringify(i))),e.next=19,o.render(s).then((function(){setTimeout((function(){u.openPopup()}),200)}));case 19:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"runTimer",value:function(){var e=this,t=l.valueTime,n=t,r=document.querySelector(".timer-text"),s=document.querySelector(".progress-timer"),a=(new Date).getTime()+1e3*t;this.timerProgressInterval=setInterval((function(){var t=(a-(new Date).getTime())/1e3/n*100;s.style.width="".concat(t,"%"),t<50&&t>=25?s.style.backgroundColor="yellow":t<25&&(s.style.backgroundColor="red"),t<0&&clearInterval(e.timerProgressInterval)}),100),this.clockInterval=setInterval((function(){if(t-=1,r.textContent=t<10?"00:0".concat(t):"00:".concat(t),0===t){if(clearInterval(e.clockInterval),s.style.width="0%",e.isCorrect=!1,1===l.isCheckedVolume){var n=document.querySelector(".audio-wrong");n.volume=l.valueVolume/100,n.play()}e.openPopup()}}),1e3)}},{key:"checkGameEnd",value:(t=(0,r.Z)(c().mark((function e(){var t,n=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.answersArr[this.answersCounter]=this.isCorrect?1:0,!(this.answersCounter<9)){e.next=7;break}this.answersCounter+=1,this.artistNumber+=1,this.render(),e.next=13;break;case 7:return this.answersCounter+=1,e.next=10,this.generateResults();case 10:1===l.isCheckedVolume&&((t=document.querySelector(".audio-end")).volume=l.valueVolume/100,t.play()),document.querySelector(".button-popup-home").addEventListener("click",(function(){document.dispatchEvent(new Event("render-main"))})),document.querySelector(".button-popup-next-quiz").addEventListener("click",(function(){n.quizNumber<12?document.dispatchEvent(new Event("render-artist-categories")):document.dispatchEvent(new Event("render-pictures-categories"))}));case 13:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"downloadImageFunc",value:function(){return"fetch('https://raw.githubusercontent.com/webdev163/image-data/master/full/".concat(this.artistNumber,"full.jpg')\n      .then(resp => resp.blob())\n      .then(blob => {\n        const url = window.URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.style.display = 'none';\n        a.href = url;\n        a.download = name;\n        document.body.appendChild(a);\n        a.click();\n        window.URL.revokeObjectURL(url);\n      })")}}],[{key:"getRandomInt",value:function(){return Math.floor(239*Math.random())+1}},{key:"shuffle",value:function(e){for(var t=e,n=t.length-1;n>0;n-=1){var r=Math.floor(Math.random()*(n+1)),s=[t[r],t[n]];t[n]=s[0],t[r]=s[1]}return t}},{key:"generateTimer",value:function(){var e="00:".concat(l.valueTime);return l.valueTime<10&&(e="00:0".concat(l.valueTime)),'\n      <div class="timer">\n        <img class="timer-img" src="img/clock.svg" alt="">\n        <div class="timer-text">'.concat(e,"</div>\n      </div>\n    ")}}]),e}();function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,m.Z)(e);if(t){var s=(0,m.Z)(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return(0,p.Z)(this,n)}}var k=function(e){(0,v.Z)(u,e);var t,n,i=w(u);function u(){return(0,s.Z)(this,u),i.apply(this,arguments)}return(0,a.Z)(u,[{key:"render",value:(n=(0,r.Z)(c().mark((function e(){var t,n,r,s,a,i=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.body.classList.remove("loaded"),e.next=3,this.generateAnswers();case 3:return t=e.sent,n=t.json,r=t.imageUrl,s=t.shuffledArr,a='\n      <div class="outer-container">\n        <div class="container">\n          <div class="artists-quiz-title">Кто автор этой картины?</div>\n          <div class="menu-btn-wrapper">\n            <button class="btn home-menu-button"></button>\n            '.concat(1===l.isCheckedTime?y.generateTimer():"",'\n            <button class="btn categories-menu-button"></button>\n          </div>\n          ').concat(1===l.isCheckedTime?'<div class="progress-timer"></div>':"",'\n          <div class="artists-quiz-picture" style=\'background-image: ').concat(r,';\'></div>\n          <div class="pagination-wrapper">').concat(this.generatePagination(),'</div>\n          <div class="artists-quiz-answers-wrapper">\n            <div class="artists-quiz-answers-list">\n              <div class="artists-quiz-answers-item">').concat(s[0],'</div>\n              <div class="artists-quiz-answers-item">').concat(s[1],'</div>\n              <div class="artists-quiz-answers-item">').concat(s[2],'</div>\n              <div class="artists-quiz-answers-item">').concat(s[3],'</div>\n            </div>\n          </div>\n          <div class="popup">\n            <div class="popup-sign"></div>\n            <div class="popup-picture" style=\'background-image: ').concat(r,';\'></div>\n            <div class="popup-info-wrapper">\n              <h2 class="popup-name">').concat(n[this.artistNumber].name,'</h2>\n              <p class="popup-author">').concat(n[this.artistNumber].author,'</p>\n              <p class="popup-year">').concat(n[this.artistNumber].year,'</p>\n              <button class="btn button-popup-download" onclick="').concat(this.downloadImageFunc(),'">\n                Download\n              </button>\n              <button class="btn button-popup-next">Next</button>\n            </div>\n          </div>\n        </div>\n        <audio class="audio-correct" src="audio/сorrect-answer.mp3"></audio>\n        <audio class="audio-wrong" src="audio/wrong-answer.mp3"></audio>\n        <div id="overlay"></div>\n      </div>\n    '),e.next=8,o.render(a).then((function(){i.setEventListeners(n),1===l.isCheckedTime&&i.runTimer()}));case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"setEventListeners",value:function(e){var t=this;document.querySelector(".home-menu-button").addEventListener("click",(function(){clearInterval(t.clockInterval),document.dispatchEvent(new Event("render-main"))})),document.querySelector(".categories-menu-button").addEventListener("click",(function(){clearInterval(t.clockInterval),document.dispatchEvent(new Event("render-artist-categories"))})),document.querySelector(".artists-quiz-answers-list").addEventListener("click",(function(n){t.checkAnswer(n,e)})),document.querySelector(".button-popup-next").addEventListener("click",(function(){t.checkGameEnd()}))}},{key:"generateAnswers",value:(t=(0,r.Z)(c().mark((function e(){var t,n,r,s,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getJson();case 2:return t=e.sent,e.next=5,h.getImage(this.artistNumber);case 5:for(n=e.sent,(r=new Set).add(t[this.artistNumber].author);r.size<4;)r.add(t[y.getRandomInt()].author);return s=Array.from(r),a=y.shuffle(s),e.abrupt("return",{json:t,imageUrl:n,shuffledArr:a});case 12:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"checkAnswer",value:function(e,t){if(e.target.textContent===t[this.artistNumber].author){if(1===l.isCheckedVolume){var n=document.querySelector(".audio-correct");n.volume=l.valueVolume/100,n.play()}e.target.classList.add("right-answer"),this.isCorrect=!0}else{if(!e.target.classList.contains("artists-quiz-answers-item"))return;if(1===l.isCheckedVolume){var r=document.querySelector(".audio-wrong");r.volume=l.valueVolume/100,r.play()}e.target.classList.add("wrong-answer"),this.isCorrect=!1}clearInterval(this.clockInterval),clearInterval(this.timerProgressInterval),this.openPopup()}}]),u}(y),E=function(){function e(){(0,s.Z)(this,e)}var t,n;return(0,a.Z)(e,null,[{key:"setEventListeners",value:function(e){document.querySelector(".home-menu-button").addEventListener("click",(function(){document.dispatchEvent(new Event("render-main"))})),document.querySelector(".categories-menu-button").addEventListener("click",(function(){e<12?document.dispatchEvent(new Event("render-artist-categories")):document.dispatchEvent(new Event("render-pictures-categories"))})),document.querySelector(".results-wrapper").addEventListener("click",(function(e){e.target.closest(".categories-item")&&e.target.closest(".categories-item").classList.toggle("active")}))}},{key:"generateCategoryItems",value:(n=(0,r.Z)(c().mark((function e(t){var n,r,s,a,i,o,u,l,d,v;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getJson();case 2:return n=e.sent,r="",s=JSON.parse(localStorage.getItem("webdev163-quiz-results"))[t],i=t<(a=["Portrait","Landscape","Still life","Impressionism","Expressionism","Avant-garde","Renaissance","Surrealism","Kitsch","Minimalism","Surrealism","Industrial"]).length?a[t]:a[t-a.length],o=10,e.next=10,Promise.all(new Array(o).fill(null).map((function(e,n){return h.getImage(t*o+n)})));case 10:for(u=e.sent,l=0;l<o;l+=1)d=t*o+l,v=1===s[l],r+='\n      <div class="categories-item '.concat(v?"item-done":"",'" id="item-').concat(d,'">\n        <div class="item-mark"></div>\n        <div class="category-info-wrapper">\n          <div class="category-type">').concat(i,'</div>\n        </div>\n        <div class="category-image" style=\'background-image: ').concat(u[l],';\'></div>\n        <div class="item-info-wrapper">\n          <div class="item-name">').concat(n[d].name,'</div>\n          <div class="item-author">').concat(n[d].author,'</div>\n          <div class="item-year">').concat(n[d].year,"</div>\n        </div>\n      </div>\n    ");return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"render",value:(t=(0,r.Z)(c().mark((function e(t){var n,r=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.body.classList.remove("loaded"),e.t0='\n      <div class="outer-container">\n        <div class="container">\n          <div class="logo-wrapper">\n            <img src="img/logo.png" alt="">\n          </div>\n          <div class="menu-btn-wrapper">\n            <button class="btn home-menu-button"></button>\n            <button class="btn categories-menu-button"></button>\n          </div>\n          <h2 class="results-title">Score</h2>\n          <div class="results-wrapper">\n            ',e.next=4,this.generateCategoryItems(t);case 4:return e.t1=e.sent,n=e.t0.concat.call(e.t0,e.t1,"\n          </div>\n        </div>\n      </div>\n    "),e.next=8,o.render(n).then((function(){return r.setEventListeners(t)}));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,m.Z)(e);if(t){var s=(0,m.Z)(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return(0,p.Z)(this,n)}}var q=function(e){(0,v.Z)(i,e);var t,n=x(i);function i(){return(0,s.Z)(this,i),n.apply(this,arguments)}return(0,a.Z)(i,null,[{key:"render",value:(t=(0,r.Z)(c().mark((function e(){var t,n=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0='\n      <div class="outer-container">\n        <div class="container">\n          <div class="logo-wrapper">\n            <img src="img/logo.png" alt="">\n          </div>\n          <h2 class="categories-title">Categories</h2>\n          <div class="categories-wrapper">\n            <button class="btn categories-home-button"></button>\n            ',e.next=3,this.generateCategories("artist");case 3:return e.t1=e.sent,t=e.t0.concat.call(e.t0,e.t1,"\n          </div>\n        </div>\n      </div>\n    "),e.next=7,o.render(t).then((function(){n.animateCards(),n.setEventListeners()}));case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),i}(f);function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,m.Z)(e);if(t){var s=(0,m.Z)(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return(0,p.Z)(this,n)}}var S=function(e){(0,v.Z)(u,e);var t,n,i=L(u);function u(){return(0,s.Z)(this,u),i.apply(this,arguments)}return(0,a.Z)(u,[{key:"render",value:(n=(0,r.Z)(c().mark((function e(){var t,n,r,s,a,i=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.body.classList.remove("loaded"),e.next=3,this.generateAnswers();case 3:return t=e.sent,n=t.json,r=t.imageUrl,s=t.shuffledArr,a='\n      <div class="outer-container">\n        <div class="container">\n          <div class="pictures-quiz-title">Какую картину написал <span class="author-selected">'.concat(n[this.artistNumber].author,'</span>?</div>\n          <div class="menu-btn-wrapper">\n            <button class="btn home-menu-button"></button>\n            ').concat(1===l.isCheckedTime?y.generateTimer():"",'\n            <button class="btn categories-menu-button"></button>\n          </div>\n          ').concat(1===l.isCheckedTime?'<div class="progress-timer"></div>':"",'\n          <div class="pictures-quiz-picture" style="background-image: ').concat(r,';"></div>\n          <div class="pictures-quiz-answers-wrapper">\n            <div class="pictures-quiz-answers-list">\n              <div class="pictures-quiz-answers-item" style=\'background-image: ').concat(s[0],";'></div>\n              <div class=\"pictures-quiz-answers-item\" style='background-image: ").concat(s[1],";'></div>\n              <div class=\"pictures-quiz-answers-item\" style='background-image: ").concat(s[2],";'></div>\n              <div class=\"pictures-quiz-answers-item\" style='background-image: ").concat(s[3],';\'></div>\n            </div>\n          </div>\n          <div class="pagination-wrapper">').concat(this.generatePagination(),'</div>\n          <div class="popup">\n            <div class="popup-sign"></div>\n            <div class="popup-picture" style=\'background-image: ').concat(r,';\'></div>\n            <div class="popup-info-wrapper">\n              <h2 class="popup-name">').concat(n[this.artistNumber].name,'</h2>\n              <p class="popup-author">').concat(n[this.artistNumber].author,'</p>\n              <p class="popup-year">').concat(n[this.artistNumber].year,'</p>\n              <button class="btn button-popup-download" onclick="').concat(this.downloadImageFunc(),'">\n                Download\n              </button>\n              <button class="btn button-popup-next">Next</button>\n            </div>\n          </div>\n        </div>\n        <audio class="audio-correct" src="audio/сorrect-answer.mp3"></audio>\n        <audio class="audio-wrong" src="audio/wrong-answer.mp3"></audio>\n        <div id="overlay"></div>\n      </div>\n    '),e.next=8,o.render(a).then((function(){i.setEventListeners(r),1===l.isCheckedTime&&i.runTimer()}));case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"setEventListeners",value:function(e){var t=this;document.querySelector(".home-menu-button").addEventListener("click",(function(){clearInterval(t.clockInterval),document.dispatchEvent(new Event("render-main"))})),document.querySelector(".categories-menu-button").addEventListener("click",(function(){clearInterval(t.clockInterval),document.dispatchEvent(new Event("render-pictures-categories"))})),document.querySelector(".pictures-quiz-answers-list").addEventListener("click",(function(n){t.checkAnswer(n,e)})),document.querySelector(".button-popup-next").addEventListener("click",(function(){t.checkGameEnd()}))}},{key:"generateAnswers",value:(t=(0,r.Z)(c().mark((function e(){var t,n,r,s,a,i,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getJson();case 2:return t=e.sent,e.next=5,h.getImage(this.artistNumber);case 5:for(n=e.sent,r=[this.artistNumber],(s=new Set).add(t[this.artistNumber].author);s.size<4;)a=y.getRandomInt(),t[this.artistNumber].author!==t[a].author&&(r.push(a),s.add(t[a].author));return e.next=12,Promise.all(r.map((function(e){return h.getImage(e)})));case 12:return i=e.sent,o=y.shuffle(i),e.abrupt("return",{json:t,imageUrl:n,shuffledArr:o});case 15:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"checkAnswer",value:function(e,t){if(e.target.style.backgroundImage===t){if(1===l.isCheckedVolume){var n=document.querySelector(".audio-correct");n.volume=l.valueVolume/100,n.play()}this.isCorrect=!0}else{if(!e.target.classList.contains("pictures-quiz-answers-item"))return;if(1===l.isCheckedVolume){var r=document.querySelector(".audio-wrong");r.volume=l.valueVolume/100,r.play()}this.isCorrect=!1}clearInterval(this.clockInterval),clearInterval(this.timerProgressInterval),this.openPopup()}}]),u}(y);document.addEventListener("render-main",(function(){u.render()})),document.addEventListener("render-settings",(function(){d.render()})),document.addEventListener("render-artist-categories",(function(){q.render()})),document.addEventListener("render-pictures-categories",(function(){b.render()})),document.addEventListener("render-category-results",(function(e){E.render(e.detail)})),document.addEventListener("render-quiz",(function(e){(e.detail<12?new k(e.detail):new S(e.detail)).render()})),u.render(),d.getLocalStorage(),console.log('\nВыполненные критерии:\n\n✔ Стартовая страница и навигация +20\n  - вёрстка, дизайн, UI стартовой страницы приложения. Выполняются требования к вёрстке и оформлению приложения. На стартовой странице есть кнопка, при клике по которой открываются настройки викторины, и две кнопки, при кликах по которым можно выбрать тип вопроса: угадать художника по картине, угадать картину по имени её автора +10\n  - реализована навигация по страницам приложения. Со стартовой страницы при клике по кнопке с типом вопроса пользователь попадает на страницу категорий выбранного типа вопросов. Со страницы категорий пользователь может вернуться на стартовую страницу приложения. Со страницы категорий при клике по карточке категории пользователь попадает на страницу с вопросами категории. На карточке сыгранной категории есть кнопка или ссылка, при клике по которой пользователь попадает на страницу с результатами прохождения раунда. Со страницы с вопросами и со страницы с результатами пользователь может вернуться на страницу категорий или на стартовую страницу приложения +10\n\n✔ Настройки +40\n  - в настройках есть возможность включать/выключать звук, есть регулятор громкости звука. Если звук включён, есть звуковая индикация разная для правильных и неправильных ответов, звуковое сопровождение окончания раунда +10\n  - в настройках есть возможность включать/выключать игру на время. Если выбрана игра на время, на странице с вопросами викторины отображается таймер, отсчитывающий время, которое отведено для ответа на вопрос +10\n  - в настройках можно указать время для ответа на вопрос в интервале от 5 до 30 секунд с шагом в 5 секунд. Если время истекает, а ответа нет, это засчитывается как неправильный ответ на вопрос +10\n  - при перезагрузке страницы приложения выбранные настройки сохраняются +10\n\n✔ Страница категорий +30\n  - вёрстка, дизайн, UI страницы категории. Выполняются требования к вёрстке и оформлению приложения. На странице категорий размещаются карточки категорий. Карточки категорий могут иметь названия, или их можно просто пронумеровать +10\n  - карточка сыгранной категории внешне отличается от карточки категории, которая ещё не игралась +10\n  - на карточке сыгранной категории отображается результат прохождения раунда - количество вопросов, на которые был дан правильный ответ +10\n\n✔ Страница с вопросами +50\n  - вёрстка, дизайн, UI страницы с вопросами. Выполняются требования к вёрстке и оформлению приложения. Вопросы в викторине идут в том порядке, в каком информация про картины и их авторов размещается в коллекции исходных данных +10\n  - варианты ответов на вопросы генерируются случайным образом. В вариантах ответов на вопросы викторины должен быть правильный ответ и только один. Правильный ответ в разных вопросах должен находиться на разных местах, а не, например, всегда быть только первым. Варианты ответов должны быть разными. В вариантах ответов не должны повторяться картины одного и того же художника +10\n  - правильным и неправильным ответам пользователя соответствуют индикаторы разного цвета +10\n  - после того, как ответ выбран, появляется модальное окно с правильным ответом на вопрос и кнопкой "Продолжить". При клике по кнопке "Продолжить" пользователь переходит к следующему вопросу категории +10\n  - после окончания раунда выводится уведомление об окончании раунда и его результат - количество вопросов, на которые был дан правильный ответ. Есть кнопка "Продолжить" при клике по которой пользователь перенаправляется на страницу категорий данного типа вопросов +10\n\n✔ Страница с результатами +50\n  - вёрстка, дизайн, UI страницы с результатами. Выполняются требования к вёрстке и оформлению приложения +10\n  - страница с результатами содержит превью всех картин категории +10\n  - картины, на вопросы про которые или про их авторов был дан правильный ответ, цветные; картины, на вопросы про которые или про их авторов был дан неправильный ответ, черно-белые +10\n  - при клике по картине выводится информация о ней - название, автор, год создания +10\n  - если раунд переигрывался, и результаты изменились, эти изменения отображаются на странице с результатами +10\n\n✔ Плавная смена изображений; картинки сначала загружаются, потом отображаются; нет ситуации, когда пользователь видит частично загрузившиеся изображения. Плавную смену изображений не проверяем: 1) при загрузке и перезагрузке приложения 2) при открытой консоли браузера +10\n\n✔ Реализована анимация отдельных деталей интерфейса, также анимированы переходы и взаимодействия, чтобы работа с приложением шла плавным и непрерывным потоком +20\n  - анимация переходов между страницами\n  - анимация появления карточек категорий\n  - анимация появления всплывающего окна при ответе на вопрос квиза\n  - анимация чекбоксов в настройках\n  - анимация появления input range в настройках с bounce эффектом\n  - анимация иконок в футере при ховере, зацикленная, с паузой при потере ховера\n  - анимация появления кнопки score на сыгранной карточке категории\n  - анимация появления информации о картине при клике на ней на странице сыгранной категории\n\n✔ Дополнительный функционал на выбор +20\n  - возможность открыть приложение во весь экран +2\n  - разные уведомления по окончанию раунда в зависимости от результата +2\n  - возможность скачать картину на компьютер +5\n  - визуальный таймер в виде полосы c плавной анимацией и сменой цвета в зависимости от количества оставшегося времени +3\n  - прелоадер при загрузке страницы +3\n  - высокое качество оформления приложения, продуманность отдельных деталей интерфейса (различные мелочи начиная от плавной анимации элементов интерфейса и заканчивая отдельными css свойствами для тач устройств, которые не поддерживают ховер, например чтобы был доступ к странице сыгранной категории с телефона) +5\n\n\nИтого: 240 / 240\n\nЕсли Вы считаете мою работу достойной находится в списке лучших работ, заполните, пожалуйста, форму - https://forms.gle/C1gXgJv4kGCPiMz9A')},681:function(){}},n={};function r(e){var s=n[e];if(void 0!==s)return s.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,r),a.exports}r.m=t,e=[],r.O=function(t,n,s,a){if(!n){var i=1/0;for(l=0;l<e.length;l++){n=e[l][0],s=e[l][1],a=e[l][2];for(var c=!0,o=0;o<n.length;o++)(!1&a||i>=a)&&Object.keys(r.O).every((function(e){return r.O[e](n[o])}))?n.splice(o--,1):(c=!1,a<i&&(i=a));if(c){e.splice(l--,1);var u=s();void 0!==u&&(t=u)}}return t}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[n,s,a]},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={179:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var s,a,i=n[0],c=n[1],o=n[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(s in c)r.o(c,s)&&(r.m[s]=c[s]);if(o)var l=o(r)}for(t&&t(n);u<i.length;u++)a=i[u],r.o(e,a)&&e[a]&&e[a][0](),e[i[u]]=0;return r.O(l)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),r.O(void 0,[736],(function(){return r(448)}));var s=r.O(void 0,[736],(function(){return r(681)}));s=r.O(s)}();